<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ARCHIKMOR - Timeless Harmony</title>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,700;1,300&family=Montserrat:wght@300;400;500;600&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="styles/main.css">
    <script src="js/translations.js" defer></script>
</head>
<body>
    
    <header class="header" id="header">
        <div class="logo-container">
            <div class="logo-icon">
            <img src="logo.png" alt="ARCHIKMOR logo" class="logo-image">
            </div>
            <div>
                <div class="logo-text">ARCHIKMOR</div>
                <span class="tagline-small" data-i18n="tagline">Timeless Harmony</span>
            </div>
        </div>
        
        <button class="mobile-menu-btn" id="mobileMenuBtn">☰</button>
        
        <nav>
            <ul class="nav-menu">
                <li><a href="#home" data-i18n="nav.home">Home</a></li>
                <li><a href="#planning" data-i18n="nav.planning">Space Planning</a></li>
                <li><a href="#wood" data-i18n="nav.wood">Wood Craft</a></li>
                <li><a href="#catalogue" data-i18n="nav.catalogue">Catalog</a></li>
                <li><a href="#preview" data-i18n="nav.preview">Preview</a></li>
                <li><a href="#services" data-i18n="nav.services">Services</a></li>
                <li><a href="#contact" data-i18n="nav.contact">Contact</a></li>
            </ul>
        </nav>
        
        <button class="language-switcher" id="languageSwitcher" aria-label="Switch language" title="Switch language">
            <span class="lang-code">EN</span>
        </button>
    </header>
    
    <div class="mobile-nav-overlay" id="mobileNavOverlay"></div>
    <div class="mobile-nav" id="mobileNav">
        <button class="mobile-nav-close" id="mobileNavClose">✕</button>
        <ul class="mobile-nav-menu">
            <li><a href="#home" class="mobile-nav-link" data-i18n="nav.home">Home</a></li>
            <li><a href="#planning" class="mobile-nav-link" data-i18n="nav.planning">Space Planning</a></li>
            <li><a href="#wood" class="mobile-nav-link" data-i18n="nav.wood">Wood Craft</a></li>
            <li><a href="#catalogue" class="mobile-nav-link" data-i18n="nav.catalogue">Catalog</a></li>
            <li><a href="#preview" class="mobile-nav-link" data-i18n="nav.preview">Preview</a></li>
            <li><a href="#services" class="mobile-nav-link" data-i18n="nav.services">Services</a></li>
            <li><a href="#contact" class="mobile-nav-link" data-i18n="nav.contact">Contact</a></li>
        </ul>
        <button class="language-switcher mobile-lang-switcher" id="mobileLanguageSwitcher" aria-label="Switch language" title="Switch language">
            <span class="lang-code">EN</span>
        </button>
    </div>

    <section class="hero" id="home">
        <div class="hero-content">
            <h1>ARCHIKMOR</h1>
            <p class="subtitle" data-i18n="hero.subtitle">Timeless Harmony in Modern Design</p>
            <a href="#catalogue" class="cta-button" data-i18n="hero.downloadCatalog">Download Catalog</a>
        </div>
    </section>

    <section class="space-planning" id="planning">
        <h2 class="section-title" data-i18n="planning.title">INTELLIGENT SPACE PLANNING</h2>
        <div class="planning-content">
            <div class="planning-text">
                <h3 data-i18n="planning.heading">Strategic Design for Optimal Living</h3>
                <p data-i18n="planning.description1">At ARCHIKMOR, we believe that great design begins with intelligent space planning. Our approach transforms ordinary spaces into extraordinary experiences through meticulous analysis and creative solutions.</p>
                
                <p data-i18n="planning.description2">We consider every aspect of your space - from traffic flow and natural light to functionality and aesthetic harmony - to create environments that work beautifully and feel intuitively right.</p>

                <ul class="planning-features">
                    <li data-i18n="planning.features.item1">Customized layout optimization for your specific needs</li>
                    <li data-i18n="planning.features.item2">Traffic flow analysis and circulation planning</li>
                    <li data-i18n="planning.features.item3">Furniture placement and scale consideration</li>
                    <li data-i18n="planning.features.item4">Lighting and electrical planning integration</li>
                    <li data-i18n="planning.features.item5">Storage solutions and spatial organization</li>
                    <li data-i18n="planning.features.item6">Future-proof design for evolving lifestyles</li>
                </ul>
            </div>
            <div class="planning-image"></div>
        </div>

        <div class="planning-stats">
            <div class="stat-item">
                <div class="stat-number">98%</div>
                <div class="stat-label" data-i18n="planning.stats.satisfaction">Client Satisfaction</div>
            </div>
            <div class="stat-item">
                <div class="stat-number">250+</div>
                <div class="stat-label" data-i18n="planning.stats.projects">Projects Completed</div>
            </div>
            <div class="stat-item">
                <div class="stat-number">30+</div>
                <div class="stat-label" data-i18n="planning.stats.experience">Years Experience</div>
            </div>
        </div>
    </section>

    <section class="wood-showcase" id="wood">
        <h2 class="section-title" data-i18n="wood.title">WOOD CRAFT & ARCHITECTURE</h2>
        <div class="wood-grid">
            <div class="wood-item">
                <div class="wood-image" style="background-image: url('https://plus.unsplash.com/premium_photo-1661902374603-0e8a4162498f?ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&q=80&w=1041')"></div>
                <div class="wood-overlay">
                    <h4 data-i18n="wood.panels.title">Custom Wood Panels</h4>
                    <p data-i18n="wood.panels.description">Handcrafted wood panels that bring warmth and natural elegance to any space</p>
                </div>
            </div>
            <div class="wood-item">
                <div class="wood-image" style="background-image: url('https://images.unsplash.com/photo-1684928365167-e91916573122?ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8NHx8d29vZCUyMGtpdGNoZW58ZW58MHx8MHx8fDA%3D&auto=format&fit=crop&q=60&w=600')"></div>
                <div class="wood-overlay">
                    <h4 data-i18n="wood.architecture.title">Architectural Woodwork</h4>
                    <p data-i18n="wood.architecture.description">Bespoke wood installations that define the character of modern interiors</p>
                </div>
            </div>
        </div>
    </section>
    <section class="catalogue-preview" id="preview">
        <h2 class="section-title" data-i18n="preview.title">CATALOG PREVIEW</h2>
        <div class="catalogue-grid">
            <div class="catalogue-item">
                <div class="catalogue-image" style="background-image: url('https://media.istockphoto.com/id/2191829498/photo/wabi-sabi-style-living-room-with-sofa-wicker-chairs-coffee-table-potted-plant-and-parquet.jpg?s=612x612&w=0&k=20&c=eB-HpdGVrS3RvMQpKroW2uKbQshISpkP6eklkl5tOIg=')"></div>
                <div class="catalogue-content">
                    <span class="collection-tag" data-i18n="preview.livingRoom.tag">Living Room Collections</span>
                    <h3 data-i18n="preview.livingRoom.heading">Where Comfort Meets Timeless Design</h3>
                    <p data-i18n="preview.livingRoom.description">Discover elegant living spaces with furniture crafted for comfort and style where timeless design and expert woodworking create the perfect place to gather and unwind.</p>
                </div>
            </div>
            <div class="catalogue-item">
                <div class="catalogue-image" style="background-image: url('https://media.istockphoto.com/id/2045383950/photo/digital-render-of-a-serene-bedroom-oasis-with-natural-light.jpg?s=612x612&w=0&k=20&c=GnifMJfGSUd96PE8rxKRVvnIb-vcwIWIuY783FkcPMk=')"></div>
                <div class="catalogue-content">
                    <span class="collection-tag" data-i18n="preview.bedroom.tag">Bedroom & Dressing Collections</span>
                    <h3 data-i18n="preview.bedroom.heading">Your Sanctuary of Serenity</h3>
                    <p data-i18n="preview.bedroom.description">Experience bespoke bedrooms designed for rest and renewal, blending elegant style with smart storage to create a harmonious and peaceful retreat.</p>
                </div>
            </div>
            <div class="catalogue-item">
                <div class="catalogue-image" style="background-image: url('https://media.istockphoto.com/id/907662122/photo/side-white-tile-and-wooden-kitchen-interior-bar.jpg?s=612x612&w=0&k=20&c=uQji4jmIS5ghcQJna4aBTb6MZ5TNdYDuVDCXNiySnRM=')"></div>
                <div class="catalogue-content">
                    <span class="collection-tag" data-i18n="preview.kitchen.tag">Kitchen Collections</span>
                    <h3 data-i18n="preview.kitchen.heading">Craftsmanship at the Heart of Your Home</h3>
                    <p data-i18n="preview.kitchen.description">Discover elegant, functional kitchens crafted from premium woods and finishes custom-designed to bring beauty, durability, and harmony to your everyday living.</p>
                </div>
            </div>
            <div class="catalogue-item">
                <div class="catalogue-image" style="background-image: url('img/doors.png')"></div>
                <div class="catalogue-content">
                    <span class="collection-tag" data-i18n="preview.doors.tag">Interior & Entry Doors Collections</span>
                    <h3 data-i18n="preview.doors.heading">The Art of First Impressions</h3>
                    <p data-i18n="preview.doors.description">Redefine every entrance with doors that unite craftsmanship, style, and strength creating timeless statements that enhance the character of any space.</p>
                </div>
            </div>
            <div class="catalogue-item">
                <div class="catalogue-image" style="background-image: url('https://media.istockphoto.com/id/1478958694/photo/top-view-on-bright-office-room-interior-with-computers-desks.jpg?s=612x612&w=0&k=20&c=Yl3D1IF0MS4jMk4JjNW6rQANB-3WqXfodVjGmSsKouc=')"></div>
                <div class="catalogue-content">
                    <span class="collection-tag" data-i18n="preview.workspace.tag">Workspace Collections</span>
                    <h3 data-i18n="preview.workspace.heading">Design That Inspires Productivity</h3>
                    <p data-i18n="preview.workspace.description">Elevate your workspace with refined wooden furniture that blends ergonomic comfort and timeless design, creating a focused and inspiring environment.</p>
                </div>
            </div>
            <div class="catalogue-item">
                <div class="catalogue-image" style="background-image: url('img/office.png')"></div>
                <div class="catalogue-content">
                    <span class="collection-tag" data-i18n="preview.office.tag">Office Collections</span>
                    <h3 data-i18n="preview.office.heading">Executive Leadership Desk</h3>
                    <p data-i18n="preview.office.description">A high-end executive desk with a spacious work surface, integrated side storage, and refined finish.</p>
                </div>
            </div>
        </div>
    </section>

    <section class="pdf-catalogue" id="catalogue">
        <h2 class="section-title" data-i18n="catalogue.title">DOWNLOAD OUR CATALOG</h2>
        <p class="pdf-subtitle" data-i18n="catalogue.subtitle">Explore our complete collection of wood designs and furniture. Download our detailed catalogue to discover the perfect pieces for your space.</p>

        <div class="pdf-container">
            <div class="pdf-card">
                <span class="pdf-icon">
                    <i class="fas fa-file-pdf"></i>
                </span>
                <h3 data-i18n="catalogue.catalogTitle">ARCHIKMOR Catalog 2026</h3>
                <p data-i18n="catalogue.catalogDescription">Immerse yourself in curated living, kitchen, workspace, and architectural wood collections designed to bring harmony to every interior.</p>

                <div class="pdf-details">
                    <p><i class="fas fa-layer-group"></i> <span data-i18n="catalogue.details.collections">6 signature collections</span></p>
                    <p><i class="fas fa-ruler-combined"></i> <span data-i18n="catalogue.details.specifications">Detailed specifications & finishes</span></p>
                    <p><i class="fas fa-images"></i> <span data-i18n="catalogue.details.imagery">High-resolution project imagery</span></p>
                </div>

                <div class="mobile-download-message" id="mobileMessage" data-i18n="catalogue.mobileMessage">
                    Download on desktop for the best experience, or request the catalogue via email.
                </div>

                <div class="download-options">
                    <a href="catalogue/Archikmor-Catalog2026.pdf" class="download-btn" id="directDownload" download="Archikmor-Catalog2026.pdf">
                        <i class="fas fa-download"></i> <span data-i18n="catalogue.downloadFull">Download Full Catalog</span>
                    </a>
                    <a href="#preview" class="preview-btn" id="previewLink">
                        <i class="fas fa-eye"></i> <span data-i18n="catalogue.previewCollections">Preview Collections</span>
                    </a>
                </div>

                <div class="email-request-form">
                    <h4 data-i18n="catalogue.emailDelivery.heading">Prefer Email Delivery?</h4>
                    <p data-i18n="catalogue.emailDelivery.description">If you're having trouble downloading, we can send the catalog directly to your inbox.</p>
                    <div class="email-form-group">
                        <input type="email" id="emailInput" data-i18n-placeholder="catalogue.emailDelivery.placeholder" placeholder="Your email address" required>
                        <button class="email-submit-btn" id="emailRequestBtn" data-i18n="catalogue.emailDelivery.button" type="button">Send Catalog</button>
                    </div>
                    <div class="form-status email-request-status" id="emailRequestStatus" role="status" aria-live="polite" hidden></div>
                </div>
            </div>
        </div>

        <div class="help-section">
            <h3 data-i18n="catalogue.help.heading">Your Dream Project Starts Here</h3>
            <p data-i18n="catalogue.help.description">Share your vision with us and let's bring it to life. Whether you're imagining a new home, a unique interior, or a full architectural concept, we're here to listen. Describe your ideas, your needs, and your style.Our team will guide you through every step to turn your dream project into a beautifully crafted reality just contact us:</p>
            <div class="contact-info">
                <span class="contact-line">Sales@archikmor.com</span>
                <span class="contact-line">+212 783101423</span>
            </div>
        </div>
    </section>

    <!-- Services Section -->
    <section class="services" id="services">
        <h2 class="section-title" data-i18n="services.title">OUR SERVICES</h2>
        <div class="services-grid">
            <div class="service-card">
                <div class="service-image" style="background-image: url('https://plus.unsplash.com/premium_photo-1661962340349-6ea59fff7e7b?ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1yZWxhdGVkfDN8fHxlbnwwfHx8fHw%3D&auto=format&fit=crop&q=60&w=600')"></div>
                <div class="service-content">
                    <h3 data-i18n="services.interior.title">Interior Design</h3>
                    <p data-i18n="services.interior.description">Complete interior design solutions from concept to execution, creating harmonious spaces that reflect your personality and lifestyle.</p>
                </div>
            </div>
            <div class="service-card">
                <div class="service-image" style="background-image: url('https://plus.unsplash.com/premium_photo-1670076515866-73822a3d610d?ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&q=80&w=1170')"></div>
                <div class="service-content">
                    <h3 data-i18n="services.furniture.title">Custom Furniture</h3>
                    <p data-i18n="services.furniture.description">Bespoke furniture design and craftsmanship, creating unique pieces that perfectly fit your space and style.</p>
                </div>
            </div>
            <div class="service-card">
                <div class="service-image" style="background-image: url('/img/planing.png')"></div>
                <div class="service-content">
                    <h3 data-i18n="services.spacePlanning.title">Space Planning</h3>
                    <p data-i18n="services.spacePlanning.description">Strategic space optimization and layout design to maximize functionality while maintaining aesthetic appeal and flow.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Contact Section -->
    <section class="contact" id="contact">
        <h2 class="section-title" data-i18n="contact.title">READY TO CREATE YOUR SPACE?</h2>
        <div class="contact-grid">
            <div class="contact-info">
                <h3 data-i18n="contact.heading">Start Your Journey</h3>
                <div class="contact-details">
                    <p><i class="fas fa-map-marker-alt"></i> <span data-i18n="contact.address">KM 11 600 BD CHEFCHAOUNI Q I SIDI BERSNOUSSI, CHEZ BN BRAHIM IMMOBILIER, Casablanca</span></p>
                    <p><i class="fas fa-phone"></i> <span data-i18n="contact.phone">+212 783101423</span></p>
                    <p><i class="fas fa-envelope"></i> <span data-i18n="contact.email">Sales@archikmor.com</span></p>
                    <p><i class="fas fa-clock"></i> <span data-i18n="contact.hours">Mon - Fri: 8AM - 6PM</span></p>
                </div>
                
                <!-- السوشيال ميديا المُصلحة -->
                <div class="social-section">
                    <h4 class="social-title" data-i18n="contact.socialTitle">CONNECT WITH US</h4>
                    <div class="social-links">
                        <a href="https://www.facebook.com/share/19uU8Jr3gz/" target="_blank" title="Facebook">
                            <i class="fab fa-facebook-f"></i>
                        </a>
                        <a href="https://www.instagram.com/archikmor?igsh=eTV5NGI2b2lldzc2" target="_blank" title="Instagram">
                            <i class="fab fa-instagram"></i>
                        </a>
                        <a href="https://www.tiktok.com/@archikmor?_r=1&_t=ZS-91Cbo0aFzM2" target="_blank" title="TikTok">
                            <i class="fab fa-tiktok"></i>
                        </a>
                    </div>
                </div>
            </div>
            <div class="contact-form">
                <form id="contactForm" novalidate>
                    <div class="form-group">
                        <label for="name" data-i18n="contact.form.name">Full Name</label>
                        <input type="text" id="name" name="name" data-i18n-placeholder="contact.form.namePlaceholder" placeholder="Your full name" required>
                    </div>
                    <div class="form-group">
                        <label for="email" data-i18n="contact.form.email">Email Address</label>
                        <input type="email" id="email" name="email" data-i18n-placeholder="contact.form.emailPlaceholder" placeholder="your.email@example.com" required>
                    </div>
                    <div class="form-group">
                        <label for="project" data-i18n="contact.form.project">Project Type</label>
                        <input type="text" id="project" name="project" data-i18n-placeholder="contact.form.projectPlaceholder" placeholder="Residential, Commercial, etc.">
                    </div>
                    <div class="form-group">
                        <label for="message" data-i18n="contact.form.message">Project Details</label>
                        <textarea id="message" name="message" data-i18n-placeholder="contact.form.messagePlaceholder" placeholder="Tell us about your space and vision..." required></textarea>
                    </div>
                    <button type="submit" class="submit-btn" data-i18n="contact.form.submit">Begin Your Transformation</button>
                    <div class="form-status" id="contactStatus" role="status" aria-live="polite" hidden></div>
                </form>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-content">
            <div class="footer-logo">ARCHIKMOR</div>
            <div class="footer-tagline" data-i18n="footer.tagline">Where Design Meets Harmony</div>
            
            <!-- السوشيال ميديا في الفوتر المُصلحة -->
            <div class="social-links" style="justify-content: center; margin-bottom: 30px;">
                <a href="https://www.facebook.com/share/1Dk1u67RN5/" target="_blank" title="Facebook">
                    <i class="fab fa-facebook-f"></i>
                </a>
                <a href="https://www.instagram.com/archikmor?igsh=MXY4OW9oMjEzZXo0dw==" target="_blank" title="Instagram">
                    <i class="fab fa-instagram"></i>
                </a>
                <a href="https://www.tiktok.com/@archikmor?_r=1&_t=ZS-917PmUAqhAv" target="_blank" title="TikTok">
                    <i class="fab fa-tiktok"></i>
                </a>
            </div>
            
            <div class="footer-links">
                <a href="#home" data-i18n="nav.home">Home</a>
                <a href="#planning" data-i18n="nav.planning">Space Planning</a>
                <a href="#wood" data-i18n="nav.wood">Wood Craft</a>
                <a href="#catalogue" data-i18n="nav.catalogue">Catalog</a>
                <a href="#preview" data-i18n="nav.preview">Preview</a>
                <a href="#services" data-i18n="nav.services">Services</a>
                <a href="#contact" data-i18n="nav.contact">Contact</a>
            </div>
            <div class="footer-bottom" data-i18n="footer.copyright">
                © 2025 ARCHIKMOR. Crafting timeless spaces with wood, wisdom, and harmony.
            </div>
        </div>
    </footer>

    <!-- Newsletter Modal -->
    <div class="newsletter-modal" id="newsletterModal" role="dialog" aria-modal="true" aria-labelledby="newsletterHeading" aria-describedby="newsletterDescription" hidden>
        <div class="newsletter-overlay" data-close="true"></div>
        <div class="newsletter-card" role="document">
            <button class="newsletter-close" type="button" data-i18n-aria-label="newsletter.close" aria-label="Close newsletter sign-up" data-close="true">
                <i class="fa-solid fa-xmark"></i>
            </button>
            <div class="newsletter-content">
                <p class="newsletter-tagline" data-i18n="newsletter.tagline">Exclusive insights, timeless spaces</p>
                <h2 id="newsletterHeading" data-i18n="newsletter.heading">Stay in Archikmor's Harmony</h2>
                <p id="newsletterDescription" data-i18n="newsletter.description">Subscribe for curated inspiration, project reveals, and members-only offers handpicked by our design studio.</p>
                <form class="newsletter-form" id="newsletterForm">
                    <label class="newsletter-field">
                        <span data-i18n="newsletter.name">Name</span>
                        <input type="text" name="name" autocomplete="name" required>
                    </label>
                    <label class="newsletter-field">
                        <span data-i18n="newsletter.email">Email</span>
                        <input type="email" name="email" autocomplete="email" required>
                    </label>
                    <button class="newsletter-submit" type="submit" data-i18n="newsletter.subscribe">Subscribe</button>
                    <div class="form-status newsletter-status" id="newsletterStatus" role="status" aria-live="polite" hidden></div>
                </form>
            </div>
        </div>
    </div>

    <!-- Download Notification -->
    <div class="download-notification" id="downloadNotification">
        <span data-i18n="catalogue.downloadNotification">Download started! Check your downloads folder.</span>
        <button class="close-btn" id="closeNotification">✕</button>
    </div>

    <script>
        // Initialize translation system and language switcher
        document.addEventListener('DOMContentLoaded', function() {
            // Wait for translations.js to load
            function initLanguageSwitcher() {
                if (typeof window.i18n === 'undefined') {
                    setTimeout(initLanguageSwitcher, 100);
                    return;
                }
                
                // Update language switcher display
                function updateLanguageSwitcher() {
                    const currentLang = window.i18n.getCurrentLanguage();
                    const langSwitchers = document.querySelectorAll('.lang-code');
                    langSwitchers.forEach(switcher => {
                        switcher.textContent = currentLang.toUpperCase();
                    });
                }
                
                // Initialize language switcher display
                updateLanguageSwitcher();
                
                // Handle language switcher clicks
                const langSwitcher = document.getElementById('languageSwitcher');
                const mobileLangSwitcher = document.getElementById('mobileLanguageSwitcher');
                
                function handleLanguageSwitch() {
                    const newLang = window.i18n.toggleLanguage();
                    updateLanguageSwitcher();
                    
                    // Update placeholders for inputs with data-i18n-placeholder
                    document.querySelectorAll('[data-i18n-placeholder]').forEach(input => {
                        const key = input.getAttribute('data-i18n-placeholder');
                        input.placeholder = window.i18n.get(key);
                    });
                    
                    // Update aria-labels
                    document.querySelectorAll('[data-i18n-aria-label]').forEach(element => {
                        const key = element.getAttribute('data-i18n-aria-label');
                        element.setAttribute('aria-label', window.i18n.get(key));
                    });
                    
                    // Update button text (for buttons with data-i18n attribute)
                    document.querySelectorAll('button[data-i18n], a[data-i18n]').forEach(button => {
                        const key = button.getAttribute('data-i18n');
                        const text = window.i18n.get(key);
                        // Preserve icon if it exists
                        const icon = button.querySelector('i');
                        if (icon) {
                            button.innerHTML = icon.outerHTML + ' ' + text;
                        } else {
                            button.textContent = text;
                        }
                    });
                    
                    // Update buttons with nested spans (like download buttons)
                    document.querySelectorAll('[data-i18n] span').forEach(span => {
                        const parent = span.closest('[data-i18n]');
                        if (parent) {
                            const key = parent.getAttribute('data-i18n');
                            span.textContent = window.i18n.get(key);
                        }
                    });
                    
                    // Update email request button if not in sending state
                    const emailRequestBtn = document.getElementById('emailRequestBtn');
                    if (emailRequestBtn && !emailRequestBtn.disabled) {
                        const btnText = window.i18n.get('catalogue.emailDelivery.button');
                        emailRequestBtn.textContent = btnText;
                    }
                    
                    // Update contact form submit button
                    const contactSubmitBtn = document.querySelector('#contactForm .submit-btn');
                    if (contactSubmitBtn && !contactSubmitBtn.disabled) {
                        const submitText = window.i18n.get('contact.form.submit');
                        contactSubmitBtn.textContent = submitText;
                    }
                    
                    // Update newsletter submit button
                    const newsletterSubmitBtn = document.querySelector('#newsletterForm .newsletter-submit');
                    if (newsletterSubmitBtn && !newsletterSubmitBtn.disabled) {
                        const subscribeText = window.i18n.get('newsletter.subscribe');
                        newsletterSubmitBtn.textContent = subscribeText;
                    }
                }
                
                if (langSwitcher) {
                    langSwitcher.addEventListener('click', handleLanguageSwitch);
                }
                
                if (mobileLangSwitcher) {
                    mobileLangSwitcher.addEventListener('click', handleLanguageSwitch);
                }
                
                // Update placeholders on initial load
                document.querySelectorAll('[data-i18n-placeholder]').forEach(input => {
                    const key = input.getAttribute('data-i18n-placeholder');
                    input.placeholder = window.i18n.get(key);
                });
                
                // Update aria-labels on initial load
                document.querySelectorAll('[data-i18n-aria-label]').forEach(element => {
                    const key = element.getAttribute('data-i18n-aria-label');
                    element.setAttribute('aria-label', window.i18n.get(key));
                });
            }
            
            initLanguageSwitcher();
        });
        
        // Header transparency effect
        window.addEventListener('scroll', function() {
            const header = document.getElementById('header');
            if (window.scrollY > 50) {
                header.classList.add('scrolled');
            } else {
                header.classList.remove('scrolled');
            }
        });

        // Smooth scrolling for navigation links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const targetId = this.getAttribute('href');
                if (targetId === '#') return;
                
                const targetElement = document.querySelector(targetId);
                if (targetElement) {
                    window.scrollTo({
                        top: targetElement.offsetTop - 80,
                        behavior: 'smooth'
                    });
                }
            });
        });

        // Mobile navigation functionality
        document.addEventListener('DOMContentLoaded', function() {
            const mobileMenuBtn = document.getElementById('mobileMenuBtn');
            const mobileNav = document.getElementById('mobileNav');
            const mobileNavClose = document.getElementById('mobileNavClose');
            const mobileNavOverlay = document.getElementById('mobileNavOverlay');
            const mobileNavLinks = document.querySelectorAll('.mobile-nav-link');
            const mobileMessage = document.getElementById('mobileMessage');
            const directDownload = document.getElementById('directDownload');
            const downloadNotification = document.getElementById('downloadNotification');
            const closeNotification = document.getElementById('closeNotification');
            const emailRequestBtn = document.getElementById('emailRequestBtn');
            const emailInput = document.getElementById('emailInput');
            const contactForm = document.getElementById('contactForm');
            const contactStatus = document.getElementById('contactStatus');
            const contactSubmitBtn = contactForm?.querySelector('.submit-btn');
            const defaultSubmitText = contactSubmitBtn?.textContent?.trim() ?? 'Begin Your Transformation';
            // Dynamic API URL - works on localhost, Vercel, and network access
            // On Vercel, use relative paths. On localhost, use the server port.
            const API_BASE_URL = (window.location.hostname === 'localhost' || window.location.hostname === '127.0.0.1')
                ? 'http://localhost:3004'
                : ''; // Empty string means relative paths, which works on Vercel
            window.__ARCHIKMOR_API__ = API_BASE_URL;

            const hasCoreNavElements = mobileMenuBtn && mobileNav && mobileNavClose && mobileNavOverlay;
            if (!hasCoreNavElements) {
                console.warn('ARCHIKMOR: Missing navigation elements – skipping interactive bindings.');
                return;
            }

            // كشف إذا كان المستخدم على هاتف محمول
            function isMobileDevice() {
                return /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
            }
            
            // إظهار رسالة للمستخدمين على الهواتف
            if (mobileMessage && isMobileDevice()) {
                mobileMessage.style.display = 'block';
            }
            
            // فتح القائمة
            mobileMenuBtn.addEventListener('click', function() {
                mobileNav.classList.add('active');
                mobileNavOverlay.classList.add('active');
                document.body.style.overflow = 'hidden';
            });
            
            // إغلاق القائمة
            function closeMobileNav() {
                mobileNav.classList.remove('active');
                mobileNavOverlay.classList.remove('active');
                document.body.style.overflow = '';
            }
            
            mobileNavClose.addEventListener('click', closeMobileNav);
            mobileNavOverlay.addEventListener('click', closeMobileNav);
            
            // إغلاق القائمة عند النقر على رابط
            mobileNavLinks.forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    const targetId = this.getAttribute('href');
                    
                    closeMobileNav();
                    
                    // الانتقال السلس للقسم المطلوب
                    setTimeout(() => {
                        const targetElement = document.querySelector(targetId);
                        if (targetElement) {
                            window.scrollTo({
                                top: targetElement.offsetTop - 80,
                                behavior: 'smooth'
                            });
                        }
                    }, 300);
                });
            });

            // إظهار إشعار التحميل
            function showDownloadNotification() {
                if (!downloadNotification) return;
                downloadNotification.classList.add('show');
                setTimeout(() => {
                    downloadNotification.classList.remove('show');
                }, 5000);
            }

            // إغلاق إشعار التحميل
            if (closeNotification && downloadNotification) {
                closeNotification.addEventListener('click', function() {
                    downloadNotification.classList.remove('show');
                });
            }

            // التحقق من وجود ملف PDF
            function checkPDFExists(url, callback) {
                const xhr = new XMLHttpRequest();
                xhr.open('HEAD', url, true);
                xhr.onreadystatechange = function() {
                    if (xhr.readyState === 4) {
                        callback(xhr.status === 200);
                    }
                };
                xhr.send();
            }

            const emailRequestStatus = document.getElementById('emailRequestStatus');
            if (emailRequestBtn && emailInput) {
                // Handle email catalogue request
                emailRequestBtn.addEventListener('click', async function() {
                    const email = emailInput.value.trim();
                    
                    if (!email) {
                        const msg = window.i18n ? window.i18n.get('catalogue.emailDelivery.errorEmail') : 'Please enter your email address.';
                        updateEmailRequestStatus(msg, 'error');
                        return;
                    }
                    
                    if (!isValidEmail(email)) {
                        const msg = window.i18n ? window.i18n.get('catalogue.emailDelivery.errorInvalid') : 'Please enter a valid email address.';
                        updateEmailRequestStatus(msg, 'error');
                        return;
                    }

                    // Disable button and show loading state
                    emailRequestBtn.disabled = true;
                    const originalText = emailRequestBtn.textContent;
                    const sendingText = window.i18n ? window.i18n.get('catalogue.emailDelivery.sending') : 'Sending...';
                    emailRequestBtn.textContent = sendingText;
                    const sendingStatus = window.i18n ? window.i18n.get('catalogue.emailDelivery.sendingStatus') : 'Sending catalogue to your email...';
                    updateEmailRequestStatus(sendingStatus, 'pending');

                    try {
                        const response = await fetch(`${API_BASE_URL}/api/catalogue/email`, {
                            method: 'POST',
                            headers: {
                                'Content-Type': 'application/json',
                            },
                            body: JSON.stringify({ email }),
                        });

                        const responseBody = await response.json().catch(() => ({}));

                        if (!response.ok) {
                            throw new Error(responseBody.error || (window.i18n ? window.i18n.get('catalogue.emailDelivery.errorGeneric') : 'Unable to send catalogue email right now.'));
                        }

                        emailInput.value = '';
                        const successMsg = responseBody.message || (window.i18n ? window.i18n.get('catalogue.emailDelivery.success') : 'Catalogue sent successfully! Please check your email inbox.');
                        updateEmailRequestStatus(successMsg, 'success');
                    } catch (error) {
                        console.error('ARCHIKMOR catalogue email request failed:', error);
                        const errorMsg = error.message || (window.i18n ? window.i18n.get('catalogue.emailDelivery.errorGeneric') : 'Something went wrong. Please try again later.');
                        updateEmailRequestStatus(errorMsg, 'error');
                    } finally {
                        emailRequestBtn.disabled = false;
                        const btnText = window.i18n ? window.i18n.get('catalogue.emailDelivery.button') : 'Send Catalog';
                        emailRequestBtn.textContent = btnText;
                    }
                });
            }

            function updateEmailRequestStatus(message, status) {
                if (!emailRequestStatus) return;
                emailRequestStatus.textContent = message;
                emailRequestStatus.dataset.status = status;
                emailRequestStatus.hidden = false;
            }

            // التحقق من صحة البريد الإلكتروني
            function isValidEmail(email) {
                const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
                return emailRegex.test(email);
            }

            if (directDownload) {
                // Handle catalogue download via API endpoint
                directDownload.addEventListener('click', function(e) {
                    e.preventDefault();
                    
                    // Always try API endpoint first (works on both localhost and Vercel)
                    const downloadUrl = API_BASE_URL 
                        ? `${API_BASE_URL}/api/catalogue/download`
                        : '/api/catalogue/download';
                    
                    // Use API endpoint for tracking
                    fetch(downloadUrl)
                        .then(response => {
                            if (!response.ok) {
                                throw new Error('Download failed');
                            }
                            return response.blob();
                        })
                        .then(blob => {
                            const url = window.URL.createObjectURL(blob);
                            const a = document.createElement('a');
                            a.href = url;
                            a.download = 'Archikmor-Catalog2026.pdf';
                            document.body.appendChild(a);
                            a.click();
                            window.URL.revokeObjectURL(url);
                            document.body.removeChild(a);
                            showDownloadNotification();
                        })
                        .catch(error => {
                            console.error('API download failed, trying static file:', error);
                            // Fallback to static file
                            window.location.href = 'catalogue/Archikmor-Catalog2026.pdf';
                            showDownloadNotification();
                        });
                });
            }

            if (contactForm && contactSubmitBtn) {
                contactForm.addEventListener('submit', async function(event) {
                    event.preventDefault();

                    const formData = new FormData(contactForm);
                    const payload = {
                        name: formData.get('name')?.toString().trim() ?? '',
                        email: formData.get('email')?.toString().trim() ?? '',
                        project: formData.get('project')?.toString().trim() ?? '',
                        message: formData.get('message')?.toString().trim() ?? '',
                    };

                    if (!payload.name || !payload.email || !payload.message) {
                        const errorMsg = window.i18n ? window.i18n.get('contact.form.errorRequired') : 'Please complete your name, email, and project details before submitting.';
                        updateContactStatus(errorMsg, 'error');
                        return;
                    }

                    toggleContactSubmitting(true);
                    const sendingMsg = window.i18n ? window.i18n.get('contact.form.sendingStatus') : 'Sending your request...';
                    updateContactStatus(sendingMsg, 'pending');

                    try {
                        const response = await fetch(`${API_BASE_URL}/api/contact`, {
                            method: 'POST',
                            headers: {
                                'Content-Type': 'application/json',
                            },
                            body: JSON.stringify(payload),
                        });

                        const responseBody = await response.json().catch(() => ({}));
                        if (!response.ok) {
                            throw new Error(responseBody.error || (window.i18n ? window.i18n.get('contact.form.errorGeneric') : 'Unable to submit your request right now.'));
                        }

                        contactForm.reset();
                        // Use appropriate status based on email result
                        const status = responseBody.emailStatus === 'failed' || responseBody.emailStatus === 'unavailable' 
                            ? 'warning' 
                            : 'success';
                        const successMsg = responseBody.message || (window.i18n ? window.i18n.get('contact.form.success') : 'Thank you for reaching out! Our team will connect with you shortly.');
                        updateContactStatus(successMsg, status);
                    } catch (error) {
                        console.error('ARCHIKMOR contact submission failed:', error);
                        const errorMsg = error.message || (window.i18n ? window.i18n.get('contact.form.errorGeneric') : 'Something went wrong. Please try again later.');
                        updateContactStatus(errorMsg, 'error');
                    } finally {
                        toggleContactSubmitting(false);
                    }
                });
            }

            function toggleContactSubmitting(isSubmitting) {
                contactSubmitBtn.disabled = isSubmitting;
                if (isSubmitting) {
                    const sendingText = window.i18n ? window.i18n.get('contact.form.sending') : 'Sending...';
                    contactSubmitBtn.textContent = sendingText;
                } else {
                    const submitText = window.i18n ? window.i18n.get('contact.form.submit') : defaultSubmitText;
                    contactSubmitBtn.textContent = submitText;
                }
            }

            function updateContactStatus(message, status) {
                if (!contactStatus) return;
                contactStatus.textContent = message;
                contactStatus.dataset.status = status;
                contactStatus.hidden = false;
            }
        });
    </script>
    <script>
        (function() {
            const modal = document.getElementById('newsletterModal');
            const card = modal?.querySelector('.newsletter-card');
            const closeTriggers = modal?.querySelectorAll('[data-close]');
            const focusableSelector = 'button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])';
            let previouslyFocused = null;
            const form = document.getElementById('newsletterForm');
            const newsletterStatus = document.getElementById('newsletterStatus');
            const newsletterSubmitBtn = form?.querySelector('.newsletter-submit');
            const defaultNewsletterText = window.i18n ? window.i18n.get('newsletter.subscribe') : (newsletterSubmitBtn?.textContent?.trim() ?? 'Subscribe');
            // Dynamic API URL - works on localhost, Vercel, and network access
            // On Vercel, use relative paths. On localhost, use the server port.
            const API_BASE_URL = window.__ARCHIKMOR_API__ ?? ((window.location.hostname === 'localhost' || window.location.hostname === '127.0.0.1')
                ? 'http://localhost:3004'
                : ''); // Empty string means relative paths, which works on Vercel

            if (!modal || !card) return;

            const openModal = () => {
                previouslyFocused = document.activeElement;
                resetNewsletterState();
                modal.hidden = false;
                requestAnimationFrame(() => modal.classList.add('active'));
                const firstFocusable = card.querySelector(focusableSelector);
                firstFocusable?.focus();
                document.body.style.overflow = 'hidden';
                document.addEventListener('keydown', handleKeydown);
            };

            const closeModal = () => {
                modal.classList.remove('active');
                const handleTransitionEnd = () => {
                    modal.hidden = true;
                    modal.removeEventListener('transitionend', handleTransitionEnd);
                };
                modal.addEventListener('transitionend', handleTransitionEnd);
                document.body.style.overflow = '';
                document.removeEventListener('keydown', handleKeydown);
                previouslyFocused?.focus();
                resetNewsletterState();
            };

            function resetNewsletterState() {
                if (newsletterStatus) {
                    newsletterStatus.hidden = true;
                    newsletterStatus.textContent = '';
                    delete newsletterStatus.dataset.status;
                }

                if (newsletterSubmitBtn) {
                    newsletterSubmitBtn.disabled = false;
                    newsletterSubmitBtn.textContent = defaultNewsletterText;
                }
            }

            function toggleNewsletterSubmitting(isSubmitting) {
                if (!newsletterSubmitBtn) return;
                newsletterSubmitBtn.disabled = isSubmitting;
                if (isSubmitting) {
                    const subscribingText = window.i18n ? window.i18n.get('newsletter.subscribing') : 'Subscribing...';
                    newsletterSubmitBtn.textContent = subscribingText;
                } else {
                    const subscribeText = window.i18n ? window.i18n.get('newsletter.subscribe') : defaultNewsletterText;
                    newsletterSubmitBtn.textContent = subscribeText;
                }
            }

            function updateNewsletterStatus(message, status) {
                if (!newsletterStatus) return;
                newsletterStatus.textContent = message;
                newsletterStatus.dataset.status = status;
                newsletterStatus.hidden = false;
            }

            function isValidNewsletterEmail(email) {
                return /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email);
            }

            const handleKeydown = (event) => {
                if (event.key === 'Escape') {
                    closeModal();
                } else if (event.key === 'Tab') {
                    trapFocus(event);
                }
            };

            const trapFocus = (event) => {
                const focusable = card.querySelectorAll(focusableSelector);
                if (!focusable.length) return;
                const first = focusable[0];
                const last = focusable[focusable.length - 1];

                if (event.shiftKey && document.activeElement === first) {
                    event.preventDefault();
                    last.focus();
                } else if (!event.shiftKey && document.activeElement === last) {
                    event.preventDefault();
                    first.focus();
                }
            };

            closeTriggers?.forEach(trigger => trigger.addEventListener('click', closeModal));

            modal.addEventListener('click', (event) => {
                if (event.target.dataset.close) {
                    closeModal();
                }
            });

            card.addEventListener('click', (event) => event.stopPropagation());

            window.addEventListener('DOMContentLoaded', () => {
                setTimeout(openModal, 6000);

                const manualTriggers = document.querySelectorAll('[data-open-newsletter]');
                manualTriggers.forEach(trigger => trigger.addEventListener('click', openModal));
            });

            form?.addEventListener('submit', async (event) => {
                event.preventDefault();
                if (!form) return;

                const formData = new FormData(form);
                const payload = {
                    name: formData.get('name')?.toString().trim() ?? '',
                    email: formData.get('email')?.toString().trim() ?? '',
                };

                if (!payload.email) {
                    const errorMsg = window.i18n ? window.i18n.get('newsletter.errorEmail') : 'Please enter your email address.';
                    updateNewsletterStatus(errorMsg, 'error');
                    return;
                }

                if (!isValidNewsletterEmail(payload.email)) {
                    const errorMsg = window.i18n ? window.i18n.get('newsletter.errorInvalid') : 'Please provide a valid email address.';
                    updateNewsletterStatus(errorMsg, 'error');
                    return;
                }

                toggleNewsletterSubmitting(true);
                const addingMsg = window.i18n ? window.i18n.get('newsletter.adding') : 'Adding you to our list...';
                updateNewsletterStatus(addingMsg, 'pending');

                try {
                    const response = await fetch(`${API_BASE_URL}/api/newsletter`, {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                        },
                        body: JSON.stringify(payload),
                    });

                    const responseBody = await response.json().catch(() => ({}));

                    if (!response.ok) {
                        throw new Error(responseBody.error || (window.i18n ? window.i18n.get('newsletter.errorGeneric') : 'Unable to subscribe right now.'));
                    }

                    form.reset();
                    // Use appropriate status based on email result
                    const status = responseBody.emailStatus === 'failed' || responseBody.emailStatus === 'unavailable' 
                        ? 'warning' 
                        : 'success';
                    const successMsg = responseBody.message || (window.i18n ? window.i18n.get('newsletter.success') : 'You are now subscribed!');
                    updateNewsletterStatus(successMsg, status);
                    setTimeout(() => closeModal(), 1500);
                } catch (error) {
                    console.error('ARCHIKMOR newsletter subscription failed:', error);
                    const errorMsg = error.message || (window.i18n ? window.i18n.get('newsletter.errorGeneric') : 'Something went wrong. Please try again later.');
                    updateNewsletterStatus(errorMsg, 'error');
                } finally {
                    toggleNewsletterSubmitting(false);
                }
            });
        })();
    </script>
</body>
</html>